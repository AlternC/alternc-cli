#!/bin/php8.2
<?php

if (\PHP_VERSION_ID < 80200) {
    echo "Phint requires PHP8.2 or newer\n";
    exit(1);
}

require_once '/usr/share/php/AlternC/cli/vendor/autoload.php';
require_once '/usr/share/alternc/panel/class/config_nochk.php';

$user = get_current_user();
$uid = getmyuid();

if ($user == "root" || $uid == 0) {
    $admin->enabled = 1;
    $mem->setid(2000);
} else {
    $admin->enabled = 0;
    $mem->setid($uid);
}

$app = new AlternC\Ahc\Application(
    'alternc',
    'v0.0.0'
);

$logo = "
 ___  _  _                     ___
/   \| || |_  ___  _ _  _ _   / __|
| - || ||  _|/ -_)| '_|| ' \ | (__
|_|_||_| \__|\___||_|  |_||_| \___|

AlternC cli : one to manage all
";

$app->add(new AlternC\Cli\Account());

$app->logo($logo)->handle($_SERVER['argv']);
